(function (module) {

	if (!module) window.emosHelper = module = {};
	var content = '',
	siteid = '',
	pageid = '';

	function convert(value) {
		return decodeURIComponent(value).replace(/^[a-z]/, function (match) {
			return match.toUpperCase();
		});
	};

	module.content = function (prefix) {
		var path = location.pathname
		.replace(/(index)?[.;][a-zA-Z0-9=._]+/g, '')
		.replace(/([^\/]+)|(\/+)/g, function (match, noSlash, slash) {
			return slash ? '/' : convert(noSlash);
		}).replace(/^\/|\/$/g, '');
		if (prefix && !/\/$/.test(prefix)) prefix += '/';
		return content = path && path !== '/' ? (prefix || '') + path : 'Start';
	};

	module.siteid = function () {
		return siteid = location.hostname.replace('www.', '');
	};

	module.pageid = function () {
		return pageid = (content || module.content()).toLowerCase().replace(/\//g, '');
	};

})(window.emosHelper);

window.emosTrackVersion = 2;

(function () { var EMOS_VERSION = "cmxp47.1"; var URL_TRACKING_ALLOWED = false; var SITE_ID = "0"; var MANDANT = false; var LOG_URL = (location.protocol == "https:") ? "https://www.econda-monitor.de/els/logging" : "http://www.econda-monitor.de/els/logging"; var STORAGE_MAX = 10; var COOKIES_MAX = 10; var JUNK_SIZE = 1600; var CLIENT_COOKIE_LIFETIME = 30; var COOKIENAME_SESSION_ID = "emos_jcsid"; var COOKIENAME_VISITOR_ID = "emos_jcvid"; var COOKIENAME_CAMPAIGN = "emos_jckamp"; var COOKIENAME_CROSS = "emos_jccross"; var COOKIENAME_POSTVIEWCAMPAIGN = "emos_postview"; var COOKIE_DOMAIN = null; var TRACK_FIRSTPARTY = true; var TRACK_POSTCONVERSION = true; var EVENT_MILLIS = 200; var sendSecondary = false; var carriesSecondaryCookie = false; var acc = null; var CLIENT_KEY = "00001b08-56cd663e-3b79-4df8-961f-bdfa35db988c"; var SECOND_ACCOUNT = null; var SECOND_CLIENT_KEY = null; var FIRST_ACTIVE = true; var SECOND_ACTIVE = false; var SECOND_SUMA = false; var TRACK_THIRD_PARTY = true; var USE_SYSTEM_SID = false; var SAMPLING_RATE = 1; var BEST_PRODUCTS_COOKIE = false; var PRODUCT_ID_IN_EC_EVENT = 1; var COOKIENAME_BEST_PRODUCTS = "emos_best_products"; var BEST_PRODUCTS_COOKIE_LIFETIME = 2592000; var API_CTX = window; var TRACK_VERSION = (typeof (API_CTX.emosTrackVersion) == "number") ? API_CTX.emosTrackVersion : 1; var MC_COOKIE = { kw: 30, cp: 30, nl: 30 }; var SAMPLING_MODE_CLICKONLY = true; var CAPTURE_CLICKS = (API_CTX.emosTrackClicks) ? API_CTX.emosTrackClicks : true; var COOKIENAME_CLICKMONITOR = "emos_clickmonitor"; var URL_CLICKMONITOR = "https://monitor.econda-monitor.de/click"; var E = null; var ai = function () { if (API_CTX.emosPageId) { E = API_CTX.emosPageId.substring(0, 254); return } var aH = document.getElementsByTagName("meta"); for (var e = 0; e < aH.length; e++) { if (aH[e].getAttribute("name") == "DC.identifier") { E = aH[e].getAttribute("content").substring(0, 254); return } } if (URL_TRACKING_ALLOWED) { var aI = (window.clickmonitor) ? window.clickmonitor.location : window.location; E = aI.protocol + "//" + aI.host + aI.pathname; E = E.substring(0, 254) } }; var an = 0; var w = null; var ak = 0; var al = 1; var A = 0; var f = 1; var H; var g; var ae = 0; var p; var K = null; var af = []; var F = true; var i = false; try { if (window.sessionStorage && window.sessionStorage.length >= 0) { i = true } } catch (O) { } var J = true; var ap; var C; var l = function () { if (API_CTX.emos_kdnr) { CLIENT_KEY = null; var e = API_CTX.emos_kdnr - 723; if (e % 673 == 0) { acc = e / 673 } else { acc = 1012 } } }; var u = (window.encodeURIComponent) ? window.encodeURIComponent : window.escape; var am = function (aH) { try { if (window.decodeURIComponent) { try { return window.decodeURIComponent(aH.replace(/\+/g, "%20")) } catch (aJ) { return window.unescape(aH) } } else { return window.unescape(aH) } } catch (aI) { return aH } }; var aC = function (aJ, aI, aH) { if (aJ.addEventListener) { aJ.addEventListener(aI, aH, true) } else { if (aJ.attachEvent) { aJ.attachEvent("on" + aI, aH) } else { var e = aJ["on" + aI]; if (!e) { aJ["on" + aI] = aH } else { aJ["on" + aI] = function (aK) { aH(aK); e(aK) } } } } }; var ag = function (aN, aI) { var aH = aN.cookie; delete aN.cookie; var e = null; var aO = null; if (aH) { if (aN.emcl) { e = parseInt(aN.emcl); delete aN.emcl } if (!e) { e = CLIENT_COOKIE_LIFETIME } e = e * 86400; aO = T(aH) } var aL = k(aN); var aM = Math.floor(aL.length / JUNK_SIZE) + 1; var aJ = []; for (var aK = 0; aK < aM; aK++) { aJ[aK] = {}; aJ[aK].v = "2"; aJ[aK].emrid = aI; if (TRACK_FIRSTPARTY == true) { aJ[aK].emsid = ak; aJ[aK].emvid = A } if (aK == 0 && TRACK_THIRD_PARTY && TRACK_POSTCONVERSION) { if (aH) { aJ[aK].emcl = e; aJ[aK].emcc = aO } if (MANDANT) { aJ[aK].emcm = SITE_ID } } aJ[aK].emnc = aM; aJ[aK].emtn = aK + 1; aJ[aK].emhost = location.hostname; if (FIRST_ACTIVE) { if (CLIENT_KEY) { aJ[aK].ckey = CLIENT_KEY } else { aJ[aK].emkd = acc } if (SECOND_ACTIVE && sendSecondary) { if (SECOND_CLIENT_KEY) { aJ[aK].skey = SECOND_CLIENT_KEY } else { aJ[aK].emsc = SECOND_ACCOUNT } } } else { if (SECOND_ACTIVE && sendSecondary) { if (CLIENT_KEY) { aJ[aK].ckey = SECOND_CLIENT_KEY } else { aJ[aK].emkd = SECOND_ACCOUNT } } } if (TRACK_THIRD_PARTY) { aJ[aK].tpct = 1 } aJ[aK].d = aL.substr(aK * JUNK_SIZE, JUNK_SIZE) } return aJ }; var B = function () { var e = {}; m(e); P(e, 0) }; var m = function (e) { n(e); if (API_CTX.emosBillingPageArray) { t(API_CTX.emosBillingPageArray, e) } if (API_CTX.emosECPageArray) { L(API_CTX.emosECPageArray, e) } M(e); if (API_CTX.emosBasketPageArray) { S(API_CTX.emosBasketPageArray, e) } z(e) }; var c = function (aL) { if (!BEST_PRODUCTS_COOKIE) { return } if (!aL.ec_Event) { return } if (aL.ec_Event.length == 0) { return } var e = []; for (var aK = 0; aK < aL.ec_Event.length; aK++) { if (aL.ec_Event[aK].length > PRODUCT_ID_IN_EC_EVENT) { e[e.length] = aL.ec_Event[aK][PRODUCT_ID_IN_EC_EVENT] } } if (e.length == 0) { return } var aH = Y(); var aI = []; for (var aK = 0; aK < Math.min(e.length, 5) ; aK++) { aI[aK] = e[e.length - aK - 1] } for (var aK = e.length; aK < Math.min(e.length + aH.length, 5) ; aK++) { aI[aK] = aH[aK - e.length] } var aJ = ""; for (var aK = 0; aK < aI.length; aK++) { if (aK != 0) { aJ = aJ + ":" } aJ = aJ + u(aI[aK]) } au(COOKIENAME_BEST_PRODUCTS, aJ, BEST_PRODUCTS_COOKIE_LIFETIME) }; var Y = function () { var e = []; var aI = W(COOKIENAME_BEST_PRODUCTS); if (aI && aI.length > 0) { var aJ = aI.split(":"); for (var aH = 0; aH < aJ.length; aH++) { e[e.length] = am(aJ[aH]) } } return e }; var n = function (e) { e.siteid = SITE_ID; if (API_CTX.emosGlobalProperties) { R(e, API_CTX.emosGlobalProperties) } aj(e); at(e); aq(e); if (TRACK_VERSION == 1) { av(e) } if (!e.content) { e.content = "HTML-Title/" + document.title } }; var aG = function () { if (API_CTX.emosReferrer) { return API_CTX.emosReferrer } try { return top.document.referrer } catch (aH) { return document.referrer } }; var aj = function (e) { if (URL_TRACKING_ALLOWED) { e.url = location.pathname.substring(0, 254) } e.jv = navigator.javaEnabled() ? 1 : 0; e.swsh = screen.width + "x" + screen.height; e.emosV = EMOS_VERSION }; var aa = function (aJ) { try { var aI = d(aJ, false); if (aI.url) { return am(aI.url).substring(0, 127) } } catch (aH) { } return null }; var b = function (aM, aJ) { try { if (aM == null || aM.length == 0) { return "http://unknown" } if (aM.substr(0, 4) != "http") { aM = "http://" + aM } if (aJ >= 0) { var aI = aM.split("/"); if (aI.length < aJ) { aJ = aI.length } aM = ""; for (var aH = 0; aH < aJ; aH++) { if (aH != 0) { aM = aM + "/" } aM = aM + aI[aH] } } var aN = aM.indexOf("?"); if (aN >= 0) { aM = aM.substring(0, aN) } var aL = aM.indexOf("#"); if (aL >= 0) { aM = aM.substring(0, aL) } } catch (aK) { } return aM.substring(0, 127) }; var aF = function (aH) { var aI = (typeof (emos_secondary) != "undefined") ? true : false; var e = (aH.billing) ? true : false; if (aI) { aH.secLabel = emos_secondary } if (e) { aI = true } if (TRACK_FIRSTPARTY && !TRACK_THIRD_PARTY && !carriesSecondaryCookie) { aI = false } return aI }; var aE = function (aJ) { if (!E) { return } if (!J) { return } if (!w) { return } if (!aJ) { aJ = window.event } var aK = {}; if ((aJ.which && aJ.which != 1) || (!aJ.which && aJ.button != 1)) { return } var aU = aJ.pageX; var aL = aJ.pageY; var aN = document.documentElement && document.documentElement.clientHeight != 0 ? document.documentElement : document.body; if (isNaN(aU) || isNaN(aL)) { aU = aJ.clientX + ((isNaN(window.pageXOffset) ? aN.scrollLeft : window.pageXOffset)); aL = aJ.clientY + ((isNaN(window.pageYOffset) ? aN.scrollTop : window.pageYOffset)) } var aQ = aJ.target ? aJ.target : aJ.srcElement; if (!aQ.nodeName) { return } var aS = aQ.nodeName.toLowerCase(); if (aS == "base") { return } while (aQ != null && aQ.nodeType != 1) { aQ = aQ.parentNode } if (aS == "map") { aQ = h(aQ, aU, aL) } else { if (aS == "area") { aQ = h(aQ.parentNode, aU, aL) } } if (aS == "option") { aQ = aQ.parentNode; if (aQ.nodeName.toLowerCase() == "optgroup") { aQ = aQ.parentNode } } if (typeof aQ.getBoundingClientRect == "function") { if (aQ == document.body.parentNode) { aQ = document.body } } else { if (aQ == document.body) { aQ = document.body.parentNode } } var aM = new Date().getTime(); var aR = Math.floor((aM - C) / 1000); var aV = Math.floor((aM - p) / 1000); C = aM; if (document.body.parentNode == aQ || document.body == aQ) { var aI, e; if (window.innerHeight) { aI = window.innerWidth - 17; e = window.innerHeight - 17 } else { aI = aN.clientWidth; e = aN.clientHeight } if (aI < aJ.clientX || e < aJ.clientY) { return } } var aO = ay(aQ); if (!aO) { return } var aH = aU - aO[0]; var aW = aL - aO[1]; var aT = ap++; var aP = Q(aQ).toLowerCase(); aK.click = [[aU, aL, aV, aH, aW, aT, aR, aP, SAMPLING_RATE]]; aK.plReqId = w; aK.emosV = EMOS_VERSION; q(aK, j(), 0) }; var Q = function (aH) { var aI = aH.parentNode; if (!aI || aI == document) { return "/" + aH.nodeName } var e = Q(aI); return e + "/" + aH.nodeName + "[" + y(aI, aH) + "]" }; var y = function (aJ, aI) { var e = aJ.childNodes; var aK = 0; for (var aH = 0; aH < e.length; aH++) { if (e[aH] == aI) { return aK } else { if (e[aH].nodeName == aI.nodeName) { aK++ } } } return -1 }; var h = function (aK, e, aH) { var aM = "#" + aK.getAttribute("name"); var aN = document.getElementsByTagName("img"); for (var aJ = 0; aJ < aN.length; aJ++) { var aI = aN[aJ]; if (aI.getAttribute("usemap") == aM) { var aL = ay(aI); if (aL) { if (e >= aL[0] && aH >= aL[1] && e <= aL[0] + aI.clientWidth && aH <= aL[1] + aI.clientHeight) { return aI } } } } return document.body.parentNode }; var P = function (aR, aH) { if (aR.pageId) { E = aR.pageId } else { if (aR.pageid) { aR.pageId = aR.pageid; E = aR.pageid; delete aR.pageid } else { if (E) { aR.pageId = E } } } try { if (E && top.ClickwatcherAccess) { top.ClickwatcherAccess.setPageId(E); F = false; J = false; return } } catch (aP) { } var aM = location.search.indexOf("clickmonitor=econda") >= 0 || location.hash.indexOf("clickmonitor_econda") >= 0; if (aM) { au(COOKIENAME_CLICKMONITOR, "true") } if ((aM || W(COOKIENAME_CLICKMONITOR) == "true") && !window.emosClickmonitor) { window.emosClickmonitor = { pageId: E, cookieName: COOKIENAME_CLICKMONITOR, cookieDomain: COOKIE_DOMAIN, urlClickmonitor: URL_CLICKMONITOR, ckey: CLIENT_KEY, emkd: acc }; var aU = document.documentElement; var aI = aU.namespaceURI; var aO = aU.prefix; var aL = aO ? aO + ":head" : "head"; var aQ = aU.childNodes; var aT = null; for (var aN = 0; aN < aQ.length; aN++) { var aS = aQ[aN]; if (aS.nodeType == 1 && aS.nodeName.toLowerCase() == aL) { aT = aS; break } } if (!aT) { aT = aI ? document.createElementNS(aI, aL) : document.createElement(aL); aU.insertBefore(aT, aU.firstChild) } var aK = aI ? document.createElementNS(aI, aO + ":script") : document.createElement("script"); aK.setAttribute("type", "text/javascript"); aK.setAttribute("src", URL_CLICKMONITOR + "/scripts/click.js"); aT.appendChild(aK); F = false; J = false; return } p = new Date().getTime(); w = j(); C = p; ap = 0; ar(aR); if (!F) { return } c(aR); if (SECOND_ACTIVE) { var aJ = aF(aR); if (sendSecondary || aJ) { sendSecondary = true } } q(aR, w, aH) }; var q = function (aJ, aK, e) { if (window.console && window.console.log && location.search.indexOf("emosdebug=yxcvbnm") >= 0) { window.console.log(aJ) } if (FIRST_ACTIVE || (SECOND_ACTIVE && sendSecondary)) { var aI = ag(aJ, aK); for (var aH = 0; aH < aI.length; aH++) { an = an + 1; a(aI[aH], an, e) } } }; var ay = function (aI) { if (typeof aI.getBoundingClientRect == "function") { var aH; var aK; if (typeof window.pageXOffset == "number") { aH = window.pageXOffset; aK = window.pageYOffset } else { var e = document.compatMode != "BackCompat" ? document.documentElement : document.body; aH = e.scrollLeft; aK = e.scrollTop } var aJ = aI.getBoundingClientRect(); if (aJ == null) { return null } if (aJ.top == 0 && aJ.right == 0 && aJ.bottom == 0 && aJ.left == 0) { return null } return [aH + parseInt(aJ.left), aK + parseInt(aJ.top)] } return D(aI) }; var D = function (e) { if (e.offsetParent != null) { var aI = D(e.offsetParent); if (!aI) { return null } aI[0] += e.offsetLeft; aI[1] += e.offsetTop; return aI } else { var aH = e.nodeName.toLowerCase(); if (aH == "html" || aH == "body") { return [0, 0] } else { return null } } }; var a = function (aK, aM, aI) { var aL = T(aK); var aH = new Image(); af[aM] = aH; if (i) { var e = window.sessionStorage; if (e.length < STORAGE_MAX) { e.setItem("emosTransmit" + aM, aL); aH.onload = function () { e.removeItem("emosTransmit" + aM); af[aM] = null } } else { aH.onload = function () { af[aM] = null } } } else { if (document.cookie.split(";").length < COOKIES_MAX) { au("emosTransmit" + aM, aL); aH.onload = function () { I("emosTransmit" + aM); af[aM] = null } } else { aH.onload = function () { af[aM] = null } } } aH.src = LOG_URL + "?" + aL; var aJ = new Date().getTime() + aI; while (new Date().getTime() < aJ) { } }; var T = function (aH) { var aI = ""; for (var aJ in aH) { var e = typeof aH[aJ]; if (e == "string" || e == "boolean" || e == "number") { if (aI != "") { aI += "&" } aI += aJ + "=" + u(aH[aJ]) } } return aI }; var ao = function (aJ) { var aK = aJ.split("&"); var aH = {}; for (var e = 0; e < aK.length; e++) { var aI = aK[e].split("="); aH[aI[0]] = am(aI[1]) } return aH }; var k = function (e) { var aH = []; for (var aI in e) { if (aH.length != 0) { aH[aH.length] = 28 } aH = aH.concat(x(aI), [31], aw(e[aI])) } return X(aH) }; var aw = function (aL) { if (aL == null) { return x("NULL") } if (typeof aL == "string") { return x(aL) } if (typeof aL == "number" || aL == "boolean") { return x("" + aL) } if (typeof aL == "object" && typeof aL.length != "undefined") { var aK = []; for (var e = 0; e < aL.length; e++) { var aJ = aL[e]; var aI = false; var aH = (typeof aJ == "object" && aJ != null && typeof aJ.length != "undefined"); if (e != 0) { aK[aK.length] = (aH || aI) ? 29 : 30 } aK = aK.concat(aw(aJ)); aI = aH } return aK } return [] }; var v = function () { var aJ = "emosTransmit".length; if (i) { var aO = window.sessionStorage; for (var aK = 0; aK < aO.length; aK++) { var aM = aO.key(aK); if (aM.substr(0, aJ) == "emosTransmit") { var e = Number(aM.substr(aJ)); an = Math.max(an, e); var aH = aO.getItem(aM); aB(e, LOG_URL + "?" + aH) } } } else { var aN = document.cookie.split(";"); for (var aK = 0; aK < aN.length; aK++) { var aI = aN[aK]; if (aI.charAt(0) == " ") { aI = aI.substr(1) } if (aI.substr(0, aJ) == "emosTransmit") { var aL = aI.indexOf("="); if (aL < 0) { continue } var e = Number(aI.substring(aJ, aL)); var aH = aI.substring(aL + 1); an = Math.max(an, e); s(e, LOG_URL + "?" + aH) } } } }; var s = function (e, aI) { var aH = new Image(); aH.onload = function () { I("emosTransmit" + e); af[e] = null }; af[e] = aH; aH.src = aI }; var aB = function (e, aI) { var aH = new Image(); aH.onload = function () { window.sessionStorage.removeItem("emosTransmit" + e); af[e] = null }; af[e] = aH; aH.src = aI }; var ar = function (aP) { if (!TRACK_FIRSTPARTY) { return } var aV = 0; if (aP.billing && aP.billing.length > 0 && aP.billing[0].length > 3) { var aN = Number(aP.billing[0][3]); if (!isNaN(aN)) { aV = Math.round(aN * 100) } } var aS = true; var aT = W(COOKIENAME_SESSION_ID); if (aT && aT.length > 0) { var aQ = aT.split(":"); if (aQ.length == 4) { ak = aQ[0]; al = parseInt(aQ[1]) + 1; if (!isNaN(al)) { aS = false; au(COOKIENAME_SESSION_ID, ak + ":" + al + ":" + w + ":" + p) } } } if (aS) { var aI = null; if (USE_SYSTEM_SID) { var aW = document.getElementsByName("emos_sid"); for (var aM = 0; aM < aW.length; aM++) { var aU = aW[aM].getAttribute("rel", 2); if (aU && aU.length > 0) { aI = aU; break } aU = aW[aM].getAttribute("title", 2); if (aU && aU.length > 0) { aI = aU; break } } if (aI == null && typeof (API_CTX.emos_sid) == "string" && API_CTX.emos_sid.length > 0) { aI = API_CTX.emos_sid } } if (aI == null) { aI = j() } var aH = aI + ":1:" + w + ":" + p; au(COOKIENAME_SESSION_ID, aH); var aK = W(COOKIENAME_SESSION_ID); if (aH == aK) { ak = aI; al = 1; aS = true } else { ak = "NULL"; al = -1; aS = false } } var aT = W(COOKIENAME_VISITOR_ID); if (aT && aT.length > 0) { var aQ = aT.split(":"); if (aQ.length == 5 || aQ.length == 7) { A = aQ[0]; f = parseInt(aQ[1]) + ((aS) ? 1 : 0); var e = aQ[2]; var aL = parseInt(aQ[3]); if (aS) { H = e; g = p - aL; aL = p } else { H = null; g = null } ae = aV; var aO = parseInt(aQ[4]); if (aQ.length == 7) { J = ("true" == aQ[5]); var aJ = parseInt(aQ[6]); if (aJ != SAMPLING_RATE) { J = Math.random() * SAMPLING_RATE <= 1 } } else { J = Math.random() * SAMPLING_RATE <= 1 } if (!SAMPLING_MODE_CLICKONLY) { F = J } if (!isNaN(aO)) { ae += aO } if (!isNaN(f)) { au(COOKIENAME_VISITOR_ID, A + ":" + f + ":" + ak + ":" + aL + ":" + ae + ":" + J + ":" + SAMPLING_RATE, 94608000); return } } } var aR = ak; ae = aV; J = Math.random() * SAMPLING_RATE <= 1; if (!SAMPLING_MODE_CLICKONLY) { F = J } var aH = aR + ":1:" + ak + ":" + p + ":" + ae + ":" + J + ":" + SAMPLING_RATE; au(COOKIENAME_VISITOR_ID, aH, 94608000); var aK = W(COOKIENAME_VISITOR_ID); if (aH == aK) { A = aR; f = 1 } else { A = "NULL"; f = -1 } }; var W = function (aK) { var e = document.cookie.split(";"); for (var aI = 0; aI < e.length; aI++) { var aH = e[aI]; if (aH.charAt(0) == " ") { aH = aH.substr(1) } if (aH.substr(0, aK.length) == aK) { var aJ = aH.indexOf("="); if (aJ < 0) { continue } return aH.substring(aJ + 1) } } return null }; var au = function (aH, aJ, e) { var aI = aH + "=" + aJ + ";path=/;"; if (COOKIE_DOMAIN) { aI = aI + "domain=" + COOKIE_DOMAIN + ";" } if (e) { aI = aI + "max-age=" + e + ";expires=" + new Date(new Date().getTime() + e * 1000).toGMTString() + ";" } document.cookie = aI }; var I = function (e) { var aH = e + "=;path=/;max-age=0;"; if (COOKIE_DOMAIN) { aH = aH + "domain=" + COOKIE_DOMAIN + ";" } document.cookie = aH }; var j = function () { var aJ = new Date().getTime(); var aL = aJ & 4294967295; var aK = (aJ / 4294967296) & 4294967295; var e = []; e[e.length] = aK >>> 24; e[e.length] = aK >>> 16 & 255; e[e.length] = aK >>> 8 & 255; e[e.length] = aK & 255; e[e.length] = aL >>> 24; e[e.length] = aL >>> 16 & 255; e[e.length] = aL >>> 8 & 255; e[e.length] = aL & 255; for (var aH = 0; aH < 4; aH++) { var aI = (4294967296 * Math.random()) & 4294967295; e[e.length] = aI >>> 24; e[e.length] = aI >>> 16 & 255; e[e.length] = aI >>> 8 & 255; e[e.length] = aI & 255 } return X(e) }; var x = function (aH) { var aI = []; var e = String.fromCharCode(237); if (e.charCodeAt(0) < 0) { for (var aK = 0; aK < aH.length; aK++) { var aJ = aH.charCodeAt(aK); if (aJ > 0) { if (aJ >= 32 || aJ == 9) { aI[aI.length] = aJ } } else { aI[aI.length] = (((256 + aJ) >> 6) | 192); aI[aI.length] = (((256 + aJ) & 63) | 128) } } } else { for (var aK = 0; aK < aH.length; aK++) { var aJ = aH.charCodeAt(aK); if (aJ < 128) { if (aJ >= 32 || aJ == 9) { aI[aI.length] = aJ } } else { if ((aJ > 127) && (aJ < 2048)) { aI[aI.length] = ((aJ >> 6) | 192); aI[aI.length] = ((aJ & 63) | 128) } else { aI[aI.length] = ((aJ >> 12) | 224); aI[aI.length] = (((aJ >> 6) & 63) | 128); aI[aI.length] = ((aJ & 63) | 128) } } } } return aI }; var aA = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*_"; var X = function (aL) { var aJ = aA; var aK = []; var aI = 0; var e = aL.length; if ((e % 3) == 1) { aL[aL.length] = 0; aL[aL.length] = 0 } if ((e % 3) == 2) { aL[aL.length] = 0 } while (aI < aL.length) { aK[aK.length] = aJ.charAt(aL[aI] >> 2); aK[aK.length] = aJ.charAt(((aL[aI] & 3) << 4) | (aL[aI + 1] >> 4)); aK[aK.length] = aJ.charAt(((aL[aI + 1] & 15) << 2) | (aL[aI + 2] >> 6)); aK[aK.length] = aJ.charAt(aL[aI + 2] & 63); aI += 3 } if ((e % 3) == 1) { aK[aK.length - 1] = aK[aK.length - 2] = "" } if ((e % 3) == 2) { aK[aK.length - 1] = "" } var aH = aK.join(""); return aH }; var Z = function (aL) { var aN = aG(); var aI = b(aN, 3); var aM = aa(aN); aL.ref = aI; if (aM) { aL.refUrl = aM } var aJ; try { aJ = d(top.location.search, true) } catch (aK) { aJ = d(location.search, true) } if (aJ.emosmarker) { aL.marker = aJ.emosmarker } if (aJ.ecmUid) { aL.newsuid = aJ.ecmUid } if (aJ.incpc) { aL.incpc = aJ.incpc } if (aL.cookie) { return } if (aJ.secondary && SECOND_ACTIVE) { sendSecondary = true; aL.secLabel = "landingPage"; aL.cookie = { scnd: "1" } } var aO = API_CTX.emos_campaignName; var aP = API_CTX.emos_sourceId; if (aJ.refID) { aO = aJ.refID; if (aJ.emsrc) { aP = aJ.emsrc } } if (aO) { if (aP) { if (aP == "kw") { aJ.adword = aO } else { if (aP == "nl") { aJ.newsletter = aO } else { aJ.campaign = aO } } } else { aP = "cp"; aJ.campaign = aO } } if (aJ.adword || aJ.amktid) { var aH = ab(aL, "kw"); if (aJ.adword) { aL.adwordClick = aJ.adword; aH.adword = aJ.adword } if (aJ.amktid) { aL.amktidClick = aJ.amktid; aH.amktid = aJ.amktid } aH.ref = aI; if (aM) { aH.refUrl = aM } N(aN, aH, true, aI); return } if (aJ.campaign) { var aH = ab(aL, "cp"); if (aP) { aH.source = aP } aL.campClick = aJ.campaign; aH.campaign = aJ.campaign; if (aJ.efp) { aH.efp = aJ.efp } if (aJ.efc) { aH.efc = aJ.efc } if (aJ.efpn) { aH.efpn = aJ.efpn } if (aJ.mktsp) { aH.mktsp = aJ.mktsp } aH.ref = aI; if (aM) { aH.refUrl = aM } return } if (aJ.newsletter || aJ.ecmId) { var aH = ab(aL, "nl"); if (aJ.newsletter) { aL.newsClick = aJ.newsletter; aH.news = aJ.newsletter } if (aJ.ecmId) { aH.newsmid = aJ.ecmId } return } if (aN == null || aN.length == 0) { aL.source = "direct"; ax(aL); return } if (G(aI)) { aL.ref = b(aN, -1); aL.source = "intern"; ax(aL); return } if (N(aN, aL, false, aI)) { return } ab(aL, "ref").ref = aI }; var ab = function (aH, aI) { if (MC_COOKIE[aI]) { if (!aH.cookie) { aH.cookie = {} } aH.emcl = MC_COOKIE[aI]; var e = aH.cookie; e.source = aI; return e } else { aH.source = aI; return aH } }; var ax = function (aH) { var e = W(COOKIENAME_POSTVIEWCAMPAIGN); if (e && e.length > 0) { aH.source = "cp"; aH.campaign = am(e) } }; var at = function (aH) { Z(aH); if (aH.cookie && !(TRACK_THIRD_PARTY && TRACK_POSTCONVERSION)) { R(aH, aH.cookie); aH.postconv = "0" } if (TRACK_FIRSTPARTY && TRACK_POSTCONVERSION) { if (aH.cookie) { var aJ = null; if (aH.emcl) { aJ = parseInt(aH.emcl) } if (!aJ) { aJ = CLIENT_COOKIE_LIFETIME } aJ = aJ * 86400; au(COOKIENAME_CAMPAIGN, T(aH.cookie) + "&ccbt=" + Math.floor(new Date().getTime() / 1000), aJ) } else { var aI = W(COOKIENAME_CAMPAIGN); if (aI && aI.length > 0) { var e = ao(aI); if (e.scnd && e.scnd == "1") { carriesSecondaryCookie = true } aH.postconv = "1"; e.ccbtd = Math.floor(new Date().getTime() / 1000) - parseInt(e.ccbt); delete e.ccbt; R(aH, e) } } } }; var G = function (e) { return (e.split("/")[2] == location.host) }; var V = [["q", null, "ie", "start", 1], ["p", null, null, "b", 1], ["su", null, null, "pageIndex", 10], ["query", null, null], ["qry_str", null, null], ["begriff", null, null], ["words", null, null], ["encquery", null, null], ["qt", null, null], ["terms", null, null], ["text", /yandex\./g, null], ["wd", /\.baidu\./g, null], ["w", /\.soso\./g, null]]; var N = function (aK, aQ, aN, aI) { var aJ; try { aJ = d(aK, false) } catch (aO) { return false } for (var aM = 0; aM < V.length; aM++) { var aL = V[aM]; var aR = aJ[aL[0]]; if (aR) { var aH = aL[1]; if (aH == null || aI.search(aH) >= 0) { var aP = aN ? aQ : ab(aQ, "suma"); var aT = aL[2]; if (aT && aJ[aT]) { aP.smqpe = aJ[aT]; aP.smqp = aR } else { aP.smqp = am(aR) } if (aL.length == 5 && aJ[aL[3]]) { var aS = parseInt(aJ[aL[3]]); if (!isNaN(aS)) { aP.smstart = aS * aL[4] } } if (!aN) { aP.ref = aI; if (SECOND_ACTIVE && SECOND_SUMA) { sendSecondary = true } } return true } } } return false }; var aq = function (aO) { var aH; K = ""; try { aH = d(top.location.search, false) } catch (aN) { aH = d(location.search, false) } var aJ = aH.emcs0 ? aH.emcs0 : "na"; var aL = aH.emcs1 ? aH.emcs1 : "na"; var aQ = aH.emcs2 ? aH.emcs2 : "na"; var aI = aH.emcs3 ? aH.emcs3 : "na"; if (aJ == "na") { aJ = aH.celPHName ? aH.celPHName : "na"; aL = aH.celRecommendationType ? aH.celRecommendationType : "na"; aQ = aH.celSourceId ? aH.celSourceId : "na"; aI = aH.celTargetId ? aH.celTargetId : "na" } aJ = (typeof (emcs0) != "undefined") ? emcs0 : aJ; aL = (typeof (emcs1) != "undefined") ? emcs1 : aL; aQ = (typeof (emcs2) != "undefined") ? emcs2 : aQ; aI = (typeof (emcs3) != "undefined") ? emcs3 : aI; if (aJ != "na" && aI == "na") { if (aO.ec_Event && aO.ec_Event[0] && aO.ec_Event[0][PRODUCT_ID_IN_EC_EVENT]) { aI = aO.ec_Event[0][PRODUCT_ID_IN_EC_EVENT] } } if (aJ != "na") { aO.crossData = [[am(aJ), am(aL), am(aQ), am(aI)]]; K = aO.crossData } var aM = ad(); if (aM && aJ == "na") { var aP = aM.split(":"); if (aP.length && aP.length > 0) { aO.crossData = []; for (var aK = 0; aK < aP.length; aK++) { aO.crossData[aO.crossData.length] = aP[aK].split(",") } } else { aO.crossData = aP[0].split(",") } } }; var av = function (aL) { var aK = document.getElementsByName("emos_name"); for (var aJ = 0; aJ < aK.length; aJ++) { var e = aK[aJ].title; var aI = aK[aJ].rel; var aH = aK[aJ].rev; if (e.length > 0) { if (aI.length > 0) { if (aH.length > 0) { aL[e] = [[am(aI), am(aH)]] } else { aL[e] = am(aI) } } } } }; var ad = function () { var aJ = W(COOKIENAME_CROSS); if (K != "") { var aI = String(K); aI = aI.split(","); aI[1] = "previous_visit"; if (aJ && aJ.length > 0) { var aH = aJ.split(":"); var aK = []; if (aH.length > 0) { for (var e = 0; e < aH.length; e++) { if (aH[e] == aI) { return aJ } else { aK[e + 1] = aH[e] } } aK[0] = aI; if (aK.length > 5) { aK.length = 5 } } aI = aK.join(":"); au(COOKIENAME_CROSS, aI, CLIENT_COOKIE_LIFETIME * 86400); return aI } else { au(COOKIENAME_CROSS, aI, CLIENT_COOKIE_LIFETIME * 86400); return aI } } else { if (aJ && aJ.length > 0) { return aJ } } return null }; var L = function (aK, aI) { try { if (aK) { if (aK.length && aK.length > 0) { aI.ec_Event = []; for (var aH = 0; aH < aK.length; aH++) { aI.ec_Event[aI.ec_Event.length] = az(aK[aH]) } } else { aI.ec_Event = [az(aK)] } } } catch (aJ) { } }; var az = function (aI) { var e = aD(aI, "event"); var aH = aD(aI, "id"); var aM = aD(aI, "name"); var aP = aD(aI, "preis"); var aO = aD(aI, "group"); var aN = aD(aI, "anzahl"); var aL = aD(aI, "var1"); var aK = aD(aI, "var2"); var aJ = aD(aI, "var3"); return [e, aH, aM, aP, aO, aN, aL, aK, aJ] }; var aD = function (aH, e) { return aH[e] ? am(aH[e]) : "NULL" }; var M = function (aH) { try { if (API_CTX.emosCustomPageArray) { aH[am(API_CTX.emosCustomPageArray[0])] = [o(API_CTX.emosCustomPageArray.slice(1))] } } catch (aI) { } }; var z = function (aJ) { try { if (API_CTX.emosCustomMultiArray && API_CTX.emosMultiArrayID) { var aH = []; for (var aI = 0; aI < API_CTX.emosCustomMultiArray.length; aI++) { aH[aI] = o(API_CTX.emosCustomMultiArray[aI]) } aJ[am(API_CTX.emosMultiArrayID)] = aH } } catch (aK) { } }; var t = function (aJ, aH) { try { if (aJ) { aH.billing = [o(aJ)] } } catch (aI) { } }; var S = function (aI, aK) { try { if (aI) { aK.ec_Event = []; for (var aH = 0; aH < aI.length; aH++) { var aJ = ["buy"]; for (var aM = 0; aM < aI[aH].length; aM++) { aJ[aM + 1] = am(aI[aH][aM]) } aK.ec_Event[aK.ec_Event.length] = aJ } } } catch (aL) { } }; var U = function (aJ, aH, aL) { try { if (aH && aJ) { var aI = []; for (var aK = 0; aK < aH.length; aK++) { aI[aK] = o(aH[aK]) } aL[am(aJ)] = aI } } catch (aM) { } }; var ah = function () { if (COOKIE_DOMAIN == null) { var e = window.location.hostname.split("."); var aJ = e[e.length - 1]; var aK = e[e.length - 2]; var aI = (aJ == "uk" || aJ == "tr" || aJ == "br" || (aJ == "at" && aK == "co") || (aJ == "jp" && (aK == "co" || aK == "ac" || aK == "go" || aK == "ne" || aK == "or"))) ? 3 : 2; if (isNaN(parseInt(aJ)) && e.length >= aI) { COOKIE_DOMAIN = ""; for (var aH = e.length - aI; aH < e.length; aH++) { COOKIE_DOMAIN = COOKIE_DOMAIN + "." + e[aH] } } else { COOKIE_DOMAIN = window.location.hostname } } }; var R = function (aI, aH) { for (var e in aH) { aI[e] = aH[e] } }; var r = function (aH) { if (!w) { return } var e = {}; e.siteid = SITE_ID; if (API_CTX.emosGlobalProperties) { R(e, API_CTX.emosGlobalProperties) } R(e, aH); e.emosV = EMOS_VERSION; e.plReqId = w; q(e, j(), 0) }; API_CTX.emos_ecEvent = function (aO, aI, aH, aQ, aP, aM, aL, aK, aJ) { var aN = {}; n(aN); var e = [[am(aO), am(aI), am(aH), am(aQ), am(aP), am(aM), am(aL), am(aK), am(aJ)]]; aN.ec_Event = e; P(aN, EVENT_MILLIS); return true }; API_CTX.emosPropertiesEvent = function (aH) { if (aH.type && aH.type == "event") { r(aH); return true } var e = {}; if (aH.cookie) { e.cookie = aH.cookie } n(e); R(e, aH); P(e, 0); return true }; API_CTX.emos_userEvent1 = function (e, aI) { var aH = {}; n(aH); aH[e] = am(aI); P(aH, EVENT_MILLIS); return true }; API_CTX.emos_userEvent2 = function (e, aI, aH) { var aJ = {}; n(aJ); aJ[e] = [[am(aI), am(aH)]]; P(aJ, EVENT_MILLIS); return true }; API_CTX.emosTargetEvent = function (aJ, aL, aK, aI) { var e = {}; n(e); var aH = 0; if (typeof aK == "boolean") { if (aK) { e.cGoal = "1"; aH = 1 } } else { if (typeof aK == "number") { if (aK != 0) { e.cGoal = "1"; aH = aK } } else { if (typeof aK == "string") { if (aK != "0") { e.cGoal = "1"; aH = aK } } } } if (typeof aI != "string") { aI = "d" } e.Target = [[am(aJ), am(aL), aH, aI]]; if (SECOND_ACTIVE) { e.secLabel = "Target" } e.content = "Target_" + am(aJ) + "_" + am(aL); P(e, EVENT_MILLIS); return true }; API_CTX.emosLeadEvent = function (aJ, aM, aK, aI, aH, aL) { var e = {}; n(e); e.LeadEvent = [[aJ, am(aM), am(aK), am(aI), am(aH)]]; if (aL) { e.cGoal = "1" } P(e, EVENT_MILLIS); return true }; API_CTX.emosCustomEvent = function (aK, aJ, e, aH, aL) { var aI = {}; n(aI); aI[aK] = [[am(aJ), am(e), am(aH), am(aL)]]; P(aI, EVENT_MILLIS); return true }; API_CTX.emosUserEvent = function (aH, aJ, aI) { var e = {}; n(e); e.uEvent = [[aH, am(aJ), am(aI)]]; P(e, EVENT_MILLIS); return true }; var o = function (aI) { var aH = []; for (var e = 0; e < aI.length; e++) { aH[e] = am(aI[e]) } return aH }; API_CTX.emosBuyEvent = function (aI, e) { var aH = {}; n(aH); t(aI, aH); S(e, aH); if (SECOND_ACTIVE) { aH.secLabel = "ThankYou" } P(aH, EVENT_MILLIS); return true }; API_CTX.emosFreeEvent = function (aH, e) { var aI = {}; n(aI); U(aH, e, aI); P(aI, EVENT_MILLIS); return true }; API_CTX.emos_submitFormData = function (aI) { if (!document.forms[aI]) { return true } var aH = {}; n(aH); var e = []; for (var aJ = 0; aJ < (document.forms[aI].elements.length) ; aJ++) { if (document.forms[aI].elements[aJ].value != "") { e[aJ] = [am(document.forms[aI].elements[aJ].name), am(document.forms[aI].elements[aJ].value)] } } aH.fName = aI; aH.fData = [e]; P(aH, EVENT_MILLIS); return true }; var d = function (aM, aH) { var aL = aM.indexOf("?"); if (aL >= 0) { aM = aM.substr(aL + 1) } var aK = {}; var aI = aM.split("&"); for (var e = 0; e < aI.length; e++) { var aJ = aI[e].split("="); if (aJ[1]) { if (aH) { aK[aJ[0]] = am(aJ[1]) } else { aK[aJ[0]] = aJ[1] } } else { aK[aJ[0]] = "" } } return aK }; var ac = function () { ai(); ah(); l(); v(); if (TRACK_VERSION == 1) { B() } if (!F) { return } if (TRACK_VERSION == 1 && window.addEventListener) { window.addEventListener("pageshow", function (e) { if (e.persisted) { B() } }, false) } if (CAPTURE_CLICKS && J) { aC(document, "mousedown", aE) } }; ac() })();